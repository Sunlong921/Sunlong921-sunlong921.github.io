var context;var arr=new Array();var starCount=800;var rains=new Array();var rainCount=20;function init(){var stars=document.getElementById("stars");windowWidth=window.innerWidth;stars.width=windowWidth;stars.height=window.innerHeight;context=stars.getContext("2d")}var Star=function(){this.x=windowWidth*Math.random();this.y=5000*Math.random();this.text=".";this.color="white";this.getColor=function(){var _r=Math.random();if(_r<0.5){this.color="#333"}else{this.color="white"}}this.init=function(){this.getColor()}this.draw=function(){context.fillStyle=this.color;context.fillText(this.text,this.x,this.y)}}function drawMoon(){var moon=new Image();moon.src="./images/moon.jpg"context.drawImage(moon,-5,-10)}window.onload=function(){init();for(var i=0;i<starCount;i++){var star=new Star();star.init();star.draw();arr.push(star)}for(var i=0;i<rainCount;i++){var rain=new MeteorRain();rain.init();rain.draw();rains.push(rain)}drawMoon();playStars();playRains()}function playStars(){for(var n=0;n<starCount;n++){arr[n].getColor();arr[n].draw()}setTimeout("playStars()",100)}var MeteorRain=function(){this.x=-1;this.y=-1;this.length=-1;this.angle=30;this.width=-1;this.height=-1;this.speed=1;this.offset_x=-1;this.offset_y=-1;this.alpha=1;this.color1="";this.color2="";this.init=function(){this.getPos();this.alpha=1;this.getRandomColor();var x=Math.random()*80+150;this.length=Math.ceil(x);this.angle=30;x=Math.random()+0.5;this.speed=Math.ceil(x);var cos=Math.cos(this.angle*3.14/180);var sin=Math.sin(this.angle*3.14/180);this.width=this.length*cos;this.height=this.length*sin;this.offset_x=this.speed*cos;this.offset_y=this.speed*sin}this.getRandomColor=function(){var a=Math.ceil(255-240*Math.random());this.color1="rgba("+a+","+a+","+a+",1)";this.color2="black"}this.countPos=function(){this.x=this.x-this.offset_x;this.y=this.y+this.offset_y}this.getPos=function(){this.x=Math.random()*window.innerWidth;this.y=Math.random()*window.innerHeight}this.draw=function(){context.save();context.beginPath();context.lineWidth=1;context.globalAlpha=this.alpha;var line=context.createLinearGradient(this.x,this.y,this.x+this.width,this.y-this.height);line.addColorStop(0,"white");line.addColorStop(0.3,this.color1);line.addColorStop(0.6,this.color2);context.strokeStyle=line;context.moveTo(this.x,this.y);context.lineTo(this.x+this.width,this.y-this.height);context.closePath();context.stroke();context.restore()}this.move=function(){var x=this.x+this.width-this.offset_x;var y=this.y-this.height;context.clearRect(x-3,y-3,this.offset_x+5,this.offset_y+5);this.countPos();this.alpha-=0.002;this.draw()}}function playRains(){for(var n=0;n<rainCount;n++){var rain=rains[n];rain.move();if(rain.y>window.innerHeight){context.clearRect(rain.x,rain.y-rain.height,rain.width,rain.height);rains[n]=new MeteorRain();rains[n].init()}}setTimeout("playRains()",2)}function Agemove(){this.settings={}}Agemove.prototype={_init:function(opt){var $this=this;$.extend($this.settings,opt);this.bindHeader();this.contentEvent();this.jianli()},bindHeader:function(){var navMove={getPos:function(obj){var l=0;var t=0;while(obj){l+=obj.offsetLeft;t+=obj.offsetTop;obj=obj.offsetParent}return{left:l,top:t}},getDirection:function(obj,oEvent){var x=oEvent.clientX-navMove.getPos(obj).left-obj.offsetWidth/2;var y=navMove.getPos(obj).top+obj.offsetHeight/2-oEvent.clientY;return Math.round((Math.atan2(y,x)*180/Math.PI+180)/90)%4},bindEvent:function(obj){$(obj).mouseenter(function(event){var e=event||window.event;var n=navMove.getDirection(this,e);var oSpan=$(obj).children('span');oSpan.css('display','block')switch(n){case 0:oSpan.css('left','-492.5px');oSpan.css('top','0px');break;case 1:oSpan.css('left','0');oSpan.css('top','200px')break;case 2:oSpan.css('left','492.5px');oSpan.css('top','0px');break;case 3:oSpan.css('left','0');oSpan.css('top','-200px')break}oSpan.stop().animate({left:0,top:0},500)})$(obj).mouseleave(function(event){var e=event||window.event;var n=navMove.getDirection(this,e);var oSpan=$(obj).children('span');oSpan.css('display','none')switch(n){case 0:oSpan.css('left',-492.5);oSpan.css('top',0);break;case 1:oSpan.css('left',0);oSpan.css('top',200)break;case 2:oSpan.css('left',492.5);oSpan.css('top',0);break;case 3:oSpan.css('left',0);oSpan.css('top',-200)break}})},navT:function(){$('.navbar-brand').click(function(){$('.on').eq(0).addClass('cur').show(300)})$.each($('.np .p'),function(index,val){var _index=$(this).index();$(this).children('p').on('click',function(){$('.on').removeClass('cur').hide(200)$('.on').eq(_index).addClass('cur').show(300)})});$.each($('.navbar-right li'),function(index,val){var _index=$(this).index();$(this).on('click',function(){$('.on').removeClass('cur').hide(200)$('.on').eq(_index).addClass('cur').show(300)}).hover(function(){$(this).css({'background':'#000','background':'rgba(160, 165, 165, 0.2)','color':'red'})},function(){$(this).css({'background':'none','color':'#fff'})})})}};var obj=$('.np .p').children('p')for(var i=0;i<obj.length;i++){navMove.bindEvent(obj[i])};navMove.navT()},contentEvent:function(){var $this=this;$('.teb_centen').hover(function(){$(this).children('p').stop().fadeIn(200)},function(){$(this).children('p').stop().fadeOut(200)});$.each($('.teb_centen'),function(index,val){$(this).click(function(event){var value=$(this).attr('data');var v=parseInt(value);if(value){$('#demo').addClass('curshow');$this.demoZ(v)}})})},demoZ:function(value){var a=$('#demo .demo_centent')if($('#demo').hasClass('curshow')){$('body,html').css({'overflow':'hidden','overflow-x':'hidden','overflow-y':'hidden'})};$('#demo').children('p').on('click',function(){$('#demo').removeClass('curshow');$('body,html').css({'overflow':'auto','overflow-x':'hidden','overflow-y':'auto'});a.html('')})var XG={NO1:function(){var nowimg=0;$("#baiyechuang .tutu .maonimen p").each(function(){$(this).css({"left":$(this).index()*80,'top':0,"background-position":$(this).index()*-80+"px  0"})});$(".rightbut").click(function(){if(nowimg<4){nowimg++}else{nowimg=0}huantu()});$(".leftbut").click(function(){if(nowimg>0){nowimg--}else{nowimg=4}huantu()});$(".dianul li").click(function(){nowimg=$(this).index();huantu()});function huantu(){$(".maonimen p").css("background-image","url(images/"+nowimg+".jpg)");$(".maonimen p").animate({"width":80},500,function(){$(".zhentu img").attr("src","images/"+nowimg+".jpg");$(".maonimen p").css("width",0)});$(".dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")}},NO2:function(jiangeshijian,yundongshijian,tupiankuandu){var nowimg=0;$("#chuantong .tuul li").eq(0).clone().appendTo("#chuantong .tuul");var timer=setInterval(youanniuyewu,jiangeshijian);$("#chuantong").mouseenter(function(){clearInterval(timer)});$("#chuantong").mouseleave(function(){clearInterval(timer);timer=setInterval(youanniuyewu,jiangeshijian)});$("#chuantong .anniu .rightbut").click(youanniuyewu);function youanniuyewu(){if(!$(".tuul").is(":animated")){if(nowimg<$("#chuantong .tuul li").length-2){nowimg=nowimg+1;huan()}else{nowimg=0;$("#chuantong .tuul").animate({"left":-tupiankuandu*($("#chuantong .tuul li").length-1)},yundongshijian,function(){$("#chuantong .tuul").css("left",0)});$("#chuantong .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")}}}$("#chuantong .anniu .leftbut").click(function(){if(!$(".tuul").is(":animated")){if(nowimg>0){nowimg=nowimg-1;huan()}else{nowimg=$("#chuantong .tuul li").length-2;$("#chuantong .tuul").css("left",-tupiankuandu*($("#chuantong .tuul li").length-1));$("#chuantong .tuul").animate({"left":-tupiankuandu*($("#chuantong .tuul li").length-2)},yundongshijian);$("#chuantong .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")}}});$("#chuantong .dianul li").click(function(){if(!$(".tuul").is(":animated")){nowimg=$(this).index();huan()}});function huan(){$("#chuantong .tuul").animate({"left":nowimg*-tupiankuandu},yundongshijian);$("#chuantong .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")}},NO3:function(huxishijian,jiangeshijian){var nowimg=0;var timer=setInterval(youanniuyewu,jiangeshijian);$("#huxi .anniu .rightbut").click(youanniuyewu);function youanniuyewu(){if(!$("#huxi ul li").is(":animated")){$("#huxi ul li").eq(nowimg).fadeOut(huxishijian);if(nowimg<$("#huxi .tuul li").length-1){nowimg=nowimg+1}else{nowimg=0}$("#huxi .tuul li").eq(nowimg).fadeIn(huxishijian);$("#huxi .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")}}$("#huxi .anniu .leftbut").click(function(){if(!$("#huxi .tuul li").is(":animated")){$("#huxi .tuul li").eq(nowimg).fadeOut(huxishijian);if(nowimg>0){nowimg=nowimg-1}else{nowimg=$("#huxi .tuul li").length-1}$("#huxi .tuul li").eq(nowimg).fadeIn(huxishijian);$("#huxi .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")}});$("#huxi .dianul li").click(function(){$("#huxi .tuul li").eq(nowimg).fadeOut(huxishijian);nowimg=$(this).index();$("#huxi .tuul li").eq(nowimg).fadeIn(huxishijian);$("#huxi .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")})},NO4:function(){var sudu=600;var shangdi=false;var json0={"width":"174px","height":"122px","left":"-116px","top":"100px"};var json1={"width":"356px","height":"223px","left":"0px","top":"26px"};var json2={"width":"642px","height":"273px","left":"274px","top":"0"};var json3={"width":"356px","height":"223px","left":"834px","top":"26px"};var json4={"width":"174px","height":"122px","left":"1097px","top":"100px"};var nowimg=2;var timer=setInterval(youanniuyewu,2000);$("#youku").mouseenter(function(){clearInterval(timer)});$("#youku").mouseleave(function(){clearInterval(timer);timer=setInterval(youanniuyewu,2000)});$(".you").click(youanniuyewu);function youanniuyewu(){if(!$(".tuul li").is(":animated")||shangdi==true){if(nowimg<8){nowimg++}else{nowimg=0}$(".xiaoyuandian li").eq(nowimg).addClass("cur").siblings().removeClass("cur");$(" .tuul  .no1_youku").animate(json0,sudu);$(" .tuul  .no2_youku").animate(json1,sudu);$(" .tuul  .no3_youku").animate(json2,sudu);$(" .tuul  .no4_youku").animate(json3,sudu);$(" .tuul  .no0_youku").css(json4);$(".tuul  .no0_youku").attr("class","waiting");$(".tuul  .no1_youku").attr("class","no0_youku");$(".tuul  .no2_youku").attr("class","no1_youku");$(".tuul  .no3_youku").attr("class","no2_youku");$(".tuul  .no4_youku").attr("class","no3_youku");if($(".tuul  .no3_youku").next().length!=0){$(".tuul  .no3_youku").next().attr("class","no4_youku")}else{$(".tuul li:first").attr("class","no4_youku")}$(".no4_youku").css(json4)}}$(".zuo").click(function(){if(!$(".tuul li").is(":animated")||shangdi==true){if(nowimg>0){nowimg--}else{nowimg=8}$(".xiaoyuandian li").eq(nowimg).addClass("cur").siblings().removeClass("cur");$(".tuul .no0_youku").animate(json1,sudu);$(".tuul .no1_youku").animate(json2,sudu);$(".tuul .no2_youku").animate(json3,sudu);$(".tuul .no3_youku").animate(json4,sudu);$(".tuul .no4_youku").css(json0);$(".tuul .no4_youku").attr("class","waiting");$(".tuul .no3_youku").attr("class","no4_youku");$(".tuul .no2_youku").attr("class","no3_youku");$(".tuul .no1_youku").attr("class","no2_youku");$(".tuul .no0_youku").attr("class","no1_youku");if($(".tuul  .no1_youku").prev().length!=0){$(".tuul  .no1_youku").prev().attr("class","no0_youku")}else{$(".tuul li:last").attr("class","no0_youku")}$(".tuul .no0_youku").css(json0)}});$("#youku .xiaoyuandian li").click(function(){sudu=100;shangdi=true;var yonghuandexuhao=$(this).index();if(yonghuandexuhao>nowimg){var cishu=yonghuandexuhao-nowimg;console.log("主人，我已经通知上帝帮你按右按钮"+cishu+"次");for(var i=1;i<=cishu;i++){$(".you").trigger("click")}}else{var cishu=nowimg-yonghuandexuhao;console.log("主人，我已经通知上帝帮你按左按钮"+cishu+"次");for(var i=1;i<=cishu;i++){$(".zuo").trigger("click")}}nowimg=yonghuandexuhao;sudu=600;shangdi=false})},NO5:function(huxishijian,jiangeshijian){var nowimg=0;var timer=setInterval(youanniuyewu,jiangeshijian);$("#huxi").mouseenter(function(){clearInterval(timer)});$("#huxi").mouseleave(function(){clearInterval(timer);timer=setInterval(youanniuyewu,jiangeshijian)});$("#huxi .anniu .rightbut").click(youanniuyewu);function youanniuyewu(){if(!$("#huxi .tuul li").is(":animated")){$("#huxi .tuul li").eq(nowimg).fadeOut(huxishijian,function(){if(nowimg<4){nowimg=nowimg+1}else{nowimg=0}$("#huxi .tuul li").eq(nowimg).fadeIn(huxishijian);$("#huxi .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")})}}$("#huxi .anniu .leftbut").click(function(){if(!$("#huxi .tuul li").is(":animated")){$("#huxi .tuul li").eq(nowimg).fadeOut(huxishijian,function(){if(nowimg>0){nowimg=nowimg-1}else{nowimg=4}$("#huxi .tuul li").eq(nowimg).fadeIn(huxishijian);$("#huxi .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")})}});$("#huxi .dianul li").click(function(){var a=$(this).index()$("#huxi .tuul li").eq(nowimg).fadeOut(huxishijian,function(){nowimg=a;$("#huxi .tuul li").eq(nowimg).fadeIn(huxishijian);$("#huxi .dianul li").eq(nowimg).addClass("cur").siblings().removeClass("cur")})})},NO6:function(){var myCanvas=document.getElementById("myCanvas");var can=myCanvas.getContext("2d");var X=myCanvas.width;var Y=myCanvas.height;var oImg=new Image();oImg.src="images/gao4.jpeg";oImg.onload=function(){can.beginPath();can.drawImage(oImg,0,0,X,Y);can.closePath()}var device=/android|iphone|ipad|ipod|webos|iemobile|opear mini|linux/i.test(navigator.userAgent.toLowerCase());var startEvtName=device?"touchstart":"mousedown";var moveEvtName=device?"touchmove":"mousemove";var endEvtName=device?"touchend":"mouseup";function draw(event){var x=device?event.touches[0].clientX:event.clientX;var y=device?event.touches[0].clientY:event.clientY;can.beginPath();can.globalCompositeOperation="destination-out";can.arc(x,y,20,0,Math.PI*2,false);can.fill();can.closePath()}myCanvas.addEventListener(startEvtName,function(){myCanvas.addEventListener(moveEvtName,draw,false)},false);myCanvas.addEventListener(endEvtName,function(){myCanvas.removeEventListener(moveEvtName,draw,false)},false)},NO7:function(){$(function(){require.config({paths:{echarts:'http://echarts.baidu.com/build/dist'}});require(['echarts','echarts/chart/bar'],function(ec){var myChart=ec.init(document.getElementById('main'));var option={tooltip:{show:true},legend:{data:['表格']},textStyle:{color:'#fff;'},xAxis:[{type:'category',data:["1","2","3","4","5","6"]}],yAxis:[{type:'value'}],series:[{"name":"表格","type":"bar","data":[5,20,40,10,10,20]}]};myChart.setOption(option)})}())}}var _html=['<div id="baiyechuang"><div class="tutu"><div class="maonimen"> <p></p><p></p><p></p><p></p><p></p><p></p><p></p></div><div class="zhentu"><img src="images/0.jpg" alt="" /></div></div><div class="anniu"><span class="leftbut"></span><span class="rightbut"></span></div><ul class="dianul"><li class="cur"></li><li></li><li></li><li></li><li></li></ul></div>','<div id="chuantong"><ul class="tuul"><li><a href="#"><img src="images/0.jpg" /></a></li><li><a href="#"><img src="images/1.jpg" /></a></li><li><a href="#"><img src="images/2.jpg" /></a></li><li><a href="#"><img src="images/3.jpg" /></a></li><li><a href="#"><img src="images/4.jpg" /></a></li></ul><div class="anniu"><span class="leftbut"></span><span class="rightbut"></span></div><ul class="dianul"><li class="cur"></li><li></li><li></li><li></li><li></li></ul></div>','<div id="huxi"><ul class="tuul"><li class="no1"><a href="#"><img src="images/0.jpg" /></a></li><li><a href="#"><img src="images/1.jpg" /></a></li><li><a href="#"><img src="images/2.jpg" /></a></li><li><a href="#"><img src="images/3.jpg" /></a></li><li><a href="#"><img src="images/4.jpg" /></a></li><li><a href="#"><img src="images/5.jpg" /></a></li><li><a href="#"><img src="images/6.jpg" /></a></li></ul><div class="anniu"><span class="leftbut"></span><span class="rightbut"></span></div><ul class="dianul"><li class="cur"></li><li></li><li></li><li></li><li></li><li></li><li></li></ul></div>','<div id="youku"><div class="anniu"><span class="zuo"></span><span class="you"></span></div><ul class="tuul"><li class="no0_youku"><a href="#"><img src="images/youku/0.jpg" /></a></li><li class="no1_youku"><a href="#"><img src="images/youku/1.jpg" /></a></li><li class="no2_youku"><a href="#"><img src="images/youku/2.jpg" /></a></li><li class="no3_youku"><a href="#"><img src="images/youku/3.jpg" /></a></li><li class="no4_youku"><a href="#"><img src="images/youku/4.jpg" /></a></li><li class="waiting"><a href="#"><img src="images/youku/5.jpg" /></a></li><li class="waiting"><a href="#"><img src="images/youku/6.jpg" /></a></li><li class="waiting"><a href="#"><img src="images/youku/7.jpg" /></a></li><li class="waiting"><a href="#"><img src="images/youku/8.jpg" /></a></li></ul><div class="xiaoyuandian"><ul><li></li><li></li><li class="cur"></li><li></li><li></li><li></li><li></li><li></li><li></li></ul></div></div>','<div id="huxi"><ul class="tuul"><li class="no1"><a href="#"><img src="images/0.jpg" /></a></li><li><a href="#"><img src="images/1.jpg" /></a></li><li><a href="#"><img src="images/2.jpg" /></a></li><li><a href="#"><img src="images/3.jpg" /></a></li><li><a href="#"><img src="images/4.jpg" /></a></li></ul><div class="anniu"><span class="leftbut"></span><span class="rightbut"></span></div><ul class="dianul"><li class="cur"></li><li></li><li></li><li></li><li></li></ul></div>','<div class="device device-fixed" style="top: 57px;left:50%; margin-left:-196px;" id="city-pickerInDevice"><div class="device-content"><div id="iwindow"><iframe src="demo.html" width="320" height="569" frameborder="0"></iframe></div></div></div>','<div class="device device-fixed" style="top: 57px;left:50%;margin-left:-196px;" id="city-pickerInDevice"><div class="device-content"><div id="iwindow"><iframe src="demo2.html" width="320" height="569" frameborder="0"></iframe></div></div></div>','<div class="device device-fixed" style="top: 57px;left:50%;margin-left:-196px;" id="city-pickerInDevice"><div class="device-content"><div id="iwindow"><iframe src="demo3.html" width="320" height="569" frameborder="0"></iframe></div></div></div>','<div class="boxCavans"><canvas id="myCanvas" width="336" height="410"></canvas></div>',' <div id="main" style="height:400px;background:#fff;"></div>']if(value==1){a.append(_html[0]);XG.NO1()}else if(value==2){a.append(_html[1]);XG.NO2(1000,200,560)}else if(value==3){a.append(_html[2]);XG.NO3(3000,500)}else if(value==4){a.append(_html[3]);XG.NO4()}else if(value==5){a.append(_html[4]);XG.NO5(300,5000)}else if(value==6){a.append(_html[5])}else if(value==7){a.append(_html[6])}else if(value==8){a.append(_html[7])}else if(value==9){a.append(_html[8]);XG.NO6()}else if(value==10){a.append(_html[9]);XG.NO7()}},jianli:function(){var canvas=document.querySelector('#demoCanvas');var ctx=canvas.getContext("2d");var data=[{"value":.15,"color":"red","title":"JS"},{"value":.25,"color":"blue","title":"Jquery"},{"value":.3,"color":"green","title":"HTML5"},{"value":.05,"color":"#35b752","title":"angular"},{"value":.25,"color":"#e69e42","title":"CSS3"}];var t=-90;var R=150 canvas.width=600;canvas.height=600;for(var i=0;i<data.length;i++){ctx.beginPath();ctx.moveTo(250,300)var z=data[i].value*360 ctx.fillStyle=data[i].color;ctx.arc(250,300,R,t*Math.PI/180,(t+z)*Math.PI/180);var x,y var Tex1=data[i].title var textAngle=t+1/2*z x=250+Math.cos(textAngle*Math.PI/180)*(R+20)y=300+Math.sin(textAngle*Math.PI/180)*(R+20)if(textAngle>90&&textAngle<270){ctx.textAlign='end'}ctx.fill();ctx.fillText(Tex1,x,y)t+=z}}}var s=new Agemove();s._init();